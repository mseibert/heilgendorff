---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import CookieBanner from '../components/CookieBanner.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
---

<!doctype html>
<html lang="de">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />
		<main>
			<section class="hero">
				<div class="hero-content">
					<h1 data-translate="heroTitle">Steuerbüro Heilgendorff</h1>
					<p class="hero-subtitle" data-translate="heroSubtitle">Ihr zuverlässiger Partner aus Wiesbaden</p>
				</div>
			</section>

			<section class="info-sections">
				<div class="info-card-with-image">
					<div class="info-text">
						<h2 data-translate="news">Aktuelles</h2>
						<h3 data-translate="coronaRefunds">Corona-Soforthilfe-Rückforderung</h3>
						<p data-translate="coronaText">Viele hessische Unternehmer erhalten Post vom Regierungspräsidium Kassel zur Rückforderung ihrer Corona-Soforthilfen. Die aktuelle Rechtsprechung zeigt: Nicht jede Rückforderung ist rechtmäßig.</p>
						<a href="/aktuelles" class="info-button" data-translate="learnMore">Mehr dazu</a>
					</div>
					<div class="info-image">
						<img src="/csm_corona-soforthilfe_Marco2811_adobe-stock_68136bd847.jpg" alt="Corona-Soforthilfe-Rückforderung" />
					</div>
				</div>
				<div class="info-card-with-image">
					<div class="info-image">
						<img src="/DJI_20220305_172410_608-scaled.jpg" alt="Karriere" />
					</div>
					<div class="info-text">
						<h2 data-translate="career">Karriere</h2>
						<h3 data-translate="careerTitle">Bewerbung</h3>
						<p data-translate="careerText">Wir suchen Steuerfachangestellte, Lohnbuchhalter und Werkstudenten. Bei uns erwartet Sie ein modernes Arbeitsumfeld mit DATEV-Software und vielfältigen Weiterbildungsmöglichkeiten.</p>
						<a href="/karriere" class="info-button" data-translate="applyNow">Jetzt bewerben</a>
					</div>
				</div>
			</section>

			<section class="tabs">
				<div class="tab">
					<h2 data-translate="digital">Digital</h2>
					<img src="/Mock-Up-Laptop-und-iPhone-1536x993-1.png" alt="Digital" class="tab-image" />
					<p data-translate="digitalText">Papierlos glücklich und von überall zu erreichen: Auch von der Ferne aus läuft die Kommunikation mit uns tadellos.</p>
					<a href="/leistungen" class="tab-button" data-translate="learnMoreAbout">Mehr erfahren</a>
				</div>
				<div class="tab">
					<h2 data-translate="international">International</h2>
					<img src="/IMG_9835-1024x683-1.jpg" alt="International" class="tab-image" />
					<p data-translate="internationalText">Wir beraten Sie in allen betriebswirtschaftlichen und steuerrechtlichen Fragen zum In- und Ausland</p>
					<a href="/about" class="tab-button" data-translate="learnMoreAbout">Mehr erfahren</a>
				</div>
				<div class="tab">
					<h2 data-translate="qualified">Qualifiziert</h2>
					<img src="/3.4.jpg" alt="Qualifiziert" class="tab-image" />
					<p data-translate="qualifiedText">Durch unsere stetige Teilnahme an zahlreichen Fortbildungen sind wir immer auf dem neuesten Stand.</p>
					<a href="/unsere-weiterbildungen" class="tab-button" data-translate="learnMoreAbout">Mehr erfahren</a>
				</div>
			</section>

			<section class="unique-section">
				<div class="unique-content">
					<div class="unique-left">
						<h2 data-translate="uniqueTitle">Was uns einzigartig macht</h2>
						<p data-translate="uniqueText">Mit fachlicher Kompetenz und persönlicher Wertschätzung gehen wir an die Beratung eines jeden unserer Mandanten. Statt Standardmuster zu verwenden, erarbeiten wir maßgeschneiderte Lösungen.</p>
						<p data-translate="uniqueText2">Unser Dienstleistungsspektrum ist daher an Ihre individuellen und vielfältigen Anforderungen angepasst. Sie entscheiden, in welcher Funktion wir für Sie tätig werden: Ob als Full-Service-Dienstleister, der Ihren Fall ganzheitlich von Anfang bis Ende betreut. Oder als Teil-Dienstleister, der lediglich spezielle Einzelaufgaben übernimmt.</p>
						<p data-translate="uniqueText3">In einem einführenden Beratungsgespräch analysieren wir Ihren Fall gemeinsam und stimmen dann im Sinne einer ergebnisorientierten, vorausschauenden Strategie das Vorgehen ab. Mit unserem Team aus erfahrenen, kompetenten und begeisterten Mitarbeitern begleiten wir Sie langfristig durch alle unternehmerischen, aber auch persönlichen Entwicklungsphasen.</p>
					</div>
					<div class="unique-right">
						<h2 data-translate="testimonialsTitle">Unsere zufriedenen Mandanten</h2>
							<div class="testimonial-container">
								<button class="testimonial-arrow testimonial-arrow-left" onclick="previousTestimonial()">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
									</svg>
								</button>
								<button class="testimonial-arrow testimonial-arrow-right" onclick="nextTestimonial()">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
									</svg>
								</button>
								<blockquote class="testimonial active" data-testimonial="0">
									<p data-translate="testimonial1">"Im Verlauf des Kurses unserer Firma, war das Steuerbüro Heilgendorff immer, und wird auch in Zukunft, eine großartige Ressource von umfangreichem, tiefgehendem Fachwissen und rechtlicher Fachkompetenz sein."</p>
									<cite data-translate="testimonial1Author">Martin Seibert, Seibert Group GmbH</cite>
								</blockquote>
								<blockquote class="testimonial" data-testimonial="1">
									<p data-translate="testimonial2">"Sie haben uns Hoffnung in der Bewältigung der steuerrechtlichen Angelegenheiten gegeben, und zwar von Anfang an."</p>
									<cite data-translate="testimonial2Author">Mario Becke</cite>
								</blockquote>
								<blockquote class="testimonial" data-testimonial="2">
									<p data-translate="testimonial3">"Mit dem Steuerbüro Heilgendorff haben wir einen sehr zuverlässigen, kompetenten und pragmatischen Partner zur Seite, der es uns als junges Unternehmen ermöglicht uns auf unsere Produkte und Kunden zu konzentrieren."</p>
									<cite data-translate="testimonial3Author">Adil Nasri, Junovi UG</cite>
								</blockquote>
							</div>
					</div>
				</div>
			</section>
		</main>
		<Footer />
	</body>
</html>

<style>
	.hero {
		text-align: center;
		background: linear-gradient(rgba(3, 47, 154, 0.3), rgba(3, 47, 154, 0.3)), url('/IMG_0053.jpeg');
		background-size: cover;
		background-position: center 35%; /* Bild noch tiefer positioniert */
		background-repeat: no-repeat;
		color: white;
		width: 100vw;
		height: calc(100vh - 55px - 150px); /* 50px weniger als vorher */
		display: flex;
		align-items: center;
		justify-content: center;
		position: relative;
		left: 50%;
		right: 50%;
		margin-left: -50vw;
		margin-right: -50vw;
		overflow-x: hidden;
		margin-top: -15px;
	}

	.hero-content {
		padding-top: 0;
	}

	.hero h1 {
		font-size: 2.8em;
		margin-bottom: 0.8rem;
		color: white;
	}

	.hero-subtitle {
		font-size: 1.2em;
		opacity: 0.9;
		margin: 0;
	}

	.tabs {
		display: grid;
		grid-template-columns: 1fr 1fr 1fr;
		gap: 1.44rem;
		margin: 2.88rem calc(-45vw + 50%) 0 calc(-45vw + 50%);
		padding: 2.88rem 1.44rem 2.88rem 1.44rem;
		width: 90vw;
		position: relative;
		left: 50%;
		right: 50%;
		margin-left: -45vw;
		margin-right: -45vw;
		background: #f8f9fa;
		transform: translateX(-20px);
		align-items: stretch;
	}

	.tab {
		text-align: center;
		background: white;
		padding: 1.6rem;
		border-radius: 8px;
		box-shadow: none;
		border: 1px solid rgba(var(--gray), 15%);
		transition: transform 0.3s ease, box-shadow 0.3s ease, border 0.3s ease;
		display: flex;
		flex-direction: column;
	}

	.tab:hover {
		transform: translateY(-5px);
		box-shadow: 0 6px 20px rgba(var(--gray), 40%);
		border: 1px solid rgba(var(--gray), 30%);
	}

	.tab h2 {
		color: var(--accent);
		margin-bottom: 1.2rem;
		font-size: 1.6em;
	}

	.tab-image {
		width: 100%;
		height: 160px;
		object-fit: cover;
		border-radius: 6px;
		margin-bottom: 1.2rem;
	}

	.tab p {
		margin-bottom: 1.6rem;
		line-height: 1.6;
		color: rgb(var(--gray-dark));
	}

	.tab-button {
		background: var(--accent);
		color: white;
		border: none;
		padding: 0.8rem 1.6rem;
		border-radius: 4px;
		font-family: "IBM Plex Sans", sans-serif;
		font-size: 0.9rem;
		cursor: pointer;
		transition: background-color 0.3s ease;
		margin-top: auto;
		align-self: center;
		text-decoration: none;
		display: inline-block;
	}

	.tab-button:hover {
		background: var(--accent-dark);
		text-decoration: none;
	}

	.info-sections {
		display: flex;
		flex-direction: column;
		gap: 1.44rem;
		margin: 2.88rem calc(-45vw + 50%) 0 calc(-45vw + 50%);
		padding: 2.88rem 1.44rem 0 1.44rem;
		width: 90vw;
		position: relative;
		left: 50%;
		right: 50%;
		margin-left: -45vw;
		margin-right: -45vw;
		background: white;
		transform: translateX(-20px);
	}

	.info-card-with-image {
		display: flex;
		align-items: center;
		gap: 2rem;
	}

	.info-card-with-image.reverse {
		flex-direction: row-reverse;
	}

	.info-text {
		flex: 1;
		text-align: left;
		background: #f8f9fa;
		padding: 2rem;
		border-radius: 8px;
		box-shadow: var(--box-shadow);
	}

	.info-image {
		flex: 1;
		height: 320px;
	}

	.info-image img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		border-radius: 6px;
	}

	.info-text h2 {
		color: var(--accent);
		margin-bottom: 0.8rem;
		font-size: 1.2em;
	}

	.info-text h3 {
		color: rgb(var(--black));
		margin-bottom: 1.2rem;
		font-size: 1.4em;
	}

	.info-text p {
		margin-bottom: 1.6rem;
		line-height: 1.6;
		color: rgb(var(--gray-dark));
	}

	.info-button {
		background: var(--accent);
		color: white;
		border: none;
		padding: 0.8rem 1.6rem;
		border-radius: 4px;
		font-family: "IBM Plex Sans", sans-serif;
		font-size: 0.9rem;
		cursor: pointer;
		transition: background-color 0.3s ease;
		text-decoration: none;
		display: inline-block;
	}

	.info-button:hover {
		background: var(--accent-dark);
	}

	.unique-section {
		background: #f8f9fa;
		padding: 4rem 0 0 0; /* Kein Padding unten - direkter Anschluss zum Footer */
		margin: 2rem 0 0 0; /* Kein Margin unten */
		width: 100vw;
		position: relative;
		left: 50%;
		right: 50%;
		margin-left: -50vw;
		margin-right: -50vw;
		padding-bottom: 0; /* Kein Padding unten */
	}

	/* Grauer Hintergrund bis zum Footer erweitern */
	.unique-section::after {
		content: '';
		position: absolute;
		bottom: -100vh; /* Erweitert den Hintergrund nach unten */
		left: 0;
		right: 0;
		height: 100vh;
		background: #f8f9fa;
		z-index: -1;
	}

	.unique-content {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 4rem; /* Mehr Abstand zwischen den Spalten */
		padding: 2.88rem 1.44rem 0 1.44rem;
		width: 90vw;
		position: relative;
		left: 50%;
		right: 50%;
		margin-left: -45vw;
		margin-right: -45vw;
		transform: translateX(-20px);
	}

	.unique-right {
		overflow: visible; /* Stelle sicher, dass Pfeile sichtbar sind */
	}

	.unique-left h2,
	.unique-right h2 {
		color: var(--accent);
		font-size: 1.8em;
		margin-bottom: 1.5rem;
		font-family: "IBM Plex Sans", sans-serif;
	}

	.unique-left p {
		margin-bottom: 1.5rem;
		line-height: 1.6;
		color: var(--black);
		font-size: 1em; /* Normale Schriftgröße beibehalten */
	}

	.unique-right blockquote {
		background: white;
		padding: 2rem;
		border-radius: 8px;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		border-left: 4px solid var(--accent);
		margin: 0;
	}


	.unique-right blockquote p {
		font-style: italic;
		font-size: 1.1em;
		line-height: 1.6;
		margin-bottom: 1rem;
		color: var(--black);
	}

	.unique-right blockquote cite {
		display: block;
		font-weight: 600;
		color: var(--accent);
		font-style: normal;
	}

	.testimonial-container {
		position: relative;
		height: 320px;
		overflow: visible; /* Ändern zu visible, damit Pfeile sichtbar sind */
		margin: 0 0; /* Kein Margin, Pfeile positionieren sich außerhalb */
		padding: 0 60px; /* Padding statt Margin für Platz der Pfeile */
	}

	/* Testimonial Pfeile */
	.testimonial-arrow {
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
		background: var(--accent);
		border: none;
		border-radius: 50%;
		width: 40px;
		height: 40px;
		display: flex;
		align-items: center;
		justify-content: center;
		cursor: pointer;
		z-index: 100; /* Höherer z-index für bessere Klickbarkeit */
		transition: all 0.3s ease;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
		pointer-events: auto; /* Stelle sicher, dass Klicks funktionieren */
	}

	.testimonial-arrow:hover {
		background: #0056b3;
		transform: translateY(-50%) scale(1.1);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
	}

	.testimonial-arrow svg {
		color: white;
		width: 20px;
		height: 20px;
	}

	.testimonial-arrow-left {
		left: -50px; /* Weiter außerhalb positioniert */
	}

	.testimonial-arrow-right {
		right: -50px; /* Gleiche Distanz wie linker Pfeil */
	}

	.testimonial {
		position: absolute;
		top: 0;
		left: 0;
		width: calc(100% - 80px); /* 80px kleiner, um mehr Platz für Pfeile zu schaffen */
		opacity: 0;
		transform: translateY(20px);
		transition: all 0.5s ease-in-out;
		z-index: 1;
		background: white;
		padding: 2rem;
		border-radius: 8px;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		border-left: 4px solid var(--accent);
		margin: 0 40px; /* 40px Margin links und rechts für Pfeile */
		visibility: hidden;
	}

	.testimonial.active {
		opacity: 1;
		transform: translateY(0);
		z-index: 2;
		visibility: visible;
	}

	/* Erstes Testimonial standardmäßig sichtbar */
	.testimonial[data-testimonial="0"] {
		opacity: 1;
		transform: translateY(0);
		z-index: 2;
		padding-bottom: 3.5rem;
	}

	/* Seibert Box - mehr Höhe unter dem Text */
	.testimonial[data-testimonial="0"] {
		padding-bottom: 17.5rem; /* 3.5rem * 5 = 17.5rem */
	}

	/* Nasri Box - mehr Höhe unter dem Text */
	.testimonial[data-testimonial="2"] {
		padding-bottom: 4.75rem;
	}

	/* Tablet view adjustments */
	@media (max-width: 1024px) and (min-width: 721px) {
		.hero {
			margin-top: -25px; /* 5px weiter nach oben (-20px + -5px = -25px) */
			height: calc(100vh - 55px - 250px); /* 50px kürzer als Desktop */
		}

		/* Testimonial-Boxen noch kleiner in Tablet-Ansicht */
		.testimonial {
			padding: 0.8rem; /* Noch kleineres Padding */
		}

		.testimonial p {
			font-size: 0.7em; /* Noch kleinere Schriftgröße für Text */
			line-height: 1.2; /* Noch kompaktere Zeilenhöhe */
		}

		.testimonial cite {
			font-size: 0.7em; /* Noch kleinere Schriftgröße für Autor */
		}

		.unique-right h2 {
			font-size: 1.2em; /* Noch kleinere Überschrift */
		}

		/* Rechter Pfeil mit Abstand zur Box */
		.testimonial-arrow-right {
			right: -35px; /* Kleiner Abstand zur Box (5px mehr Abstand) */
		}
	}

	@media (max-width: 720px) {
		.hero {
			width: 100vw;
			max-width: 100vw;
			overflow-x: hidden;
			background-position: calc(center - 200px) center;
			height: calc(100vh - 55px - 200px); /* Gleiche Höhe wie Desktop und Tablet */
		}

		.hero-content {
			width: 100%;
			max-width: 100vw;
			padding: 0 1rem;
			box-sizing: border-box;
		}

		.hero h1 {
			font-size: 2em;
		}

		.hero-subtitle {
			font-size: 1em;
		}

		.tabs {
			grid-template-columns: 1fr;
			gap: 0.6rem;
			margin: 0.8rem 0;
			padding: 0.8rem 0;
			text-align: left;
			width: calc(50% + 100px);
			margin-left: -125px;
		}

		.tab {
			padding: 0.6rem;
			text-align: left;
		}

		.tab h2 {
			font-size: 1.3em;
			text-align: center;
		}

		.tab-image {
			height: 120px;
		}

		.info-sections {
			gap: 0.6rem;
			margin: 0.8rem 0;
			padding: 0.8rem 0;
			text-align: left;
			width: calc(50% + 100px);
			margin-left: -125px;
		}

		.info-card-with-image {
			flex-direction: column;
			gap: 1rem;
		}

		.info-card-with-image.reverse {
			flex-direction: column;
		}

		/* Second info card - image after text in mobile */
		.info-sections .info-card-with-image:nth-child(2) {
			flex-direction: column;
		}

		.info-sections .info-card-with-image:nth-child(2) .info-image {
			order: 2;
			height: 507px;
			overflow: hidden;
			aspect-ratio: 16/9;
		}

		.info-sections .info-card-with-image:nth-child(2) .info-image img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			object-position: center;
		}

		.info-sections .info-card-with-image:nth-child(2) .info-text {
			order: 1;
		}

		.info-text {
			width: 100%;
		}

		.info-image {
			width: 100%;
			height: 338px;
		}

		.info-image img {
			height: 100%;
			width: 100%;
			object-fit: cover;
			border-radius: 8px;
		}

		.info-text h3 {
			font-size: 1.2em;
		}

		.unique-section {
			width: 100vw;
			position: relative;
			left: 50%;
			right: 50%;
			margin-left: -50vw;
			margin-right: -50vw;
		}

		.unique-content {
			grid-template-columns: 1fr;
			gap: 0.6rem;
			margin: 0.8rem 0;
			padding: 0.8rem 0;
			text-align: left;
			width: calc(50% + 100px);
			margin-left: -125px;
		}

		.unique-right {
			overflow: visible; /* Pfeile auch auf Mobile sichtbar */
		}

		.unique-left h2,
		.unique-right h2 {
			font-size: 1.5em;
		}

		.unique-right blockquote {
			padding: 1.5rem;
		}

		.testimonial-container {
			height: 260px;
			overflow: visible; /* Pfeile auch auf Mobile sichtbar machen */
			margin: 0 0; /* Kein Margin auf Mobile */
			padding: 0 50px; /* Padding statt Margin für Platz der Pfeile */
		}

		/* Mobile Pfeile */
		.testimonial-arrow {
			width: 35px;
			height: 35px;
		}

		.testimonial-arrow svg {
			width: 18px;
			height: 18px;
		}

		.testimonial-arrow-left {
			left: -42px; /* Weiter außerhalb auf Mobile */
		}

		.testimonial-arrow-right {
			right: -42px; /* Gleiche Distanz wie linker Pfeil auf Mobile */
		}

		/* Mobile Testimonial Boxen kleiner */
		.testimonial {
			width: calc(100% - 60px); /* 60px kleiner auf Mobile */
			margin: 0 30px; /* 30px Margin links und rechts für Pfeile */
		}
	}
</style>

<script>
	let currentTestimonial = 0;
	const testimonials = document.querySelectorAll('.testimonial');
	let autoPlayInterval;

	document.addEventListener('DOMContentLoaded', function() {
		showTestimonial(0);
		startAutoPlay();
		
		// Event Listener für Pfeile hinzufügen
		const leftArrow = document.querySelector('.testimonial-arrow-left');
		const rightArrow = document.querySelector('.testimonial-arrow-right');
		
		if (leftArrow) {
			leftArrow.addEventListener('click', function(e) {
				e.preventDefault();
				console.log('Left arrow clicked via event listener');
				previousTestimonial();
			});
		}
		
		if (rightArrow) {
			rightArrow.addEventListener('click', function(e) {
				e.preventDefault();
				console.log('Right arrow clicked via event listener');
				nextTestimonial();
			});
		}
	});

	function showTestimonial(index) {
		// Alle Testimonials verstecken
		testimonials.forEach(testimonial => {
			testimonial.classList.remove('active');
			testimonial.style.opacity = '0';
			testimonial.style.transform = 'translateY(20px)';
			testimonial.style.zIndex = '1';
			testimonial.style.visibility = 'hidden';
		});
		
		// Aktuelles Testimonial anzeigen
		testimonials[index].classList.add('active');
		testimonials[index].style.opacity = '1';
		testimonials[index].style.transform = 'translateY(0)';
		testimonials[index].style.zIndex = '2';
		testimonials[index].style.visibility = 'visible';
	}
	
	function nextTestimonial() {
		console.log('Next testimonial clicked, current:', currentTestimonial);
		currentTestimonial = (currentTestimonial + 1) % testimonials.length;
		console.log('New testimonial:', currentTestimonial);
		showTestimonial(currentTestimonial);
	}

	function previousTestimonial() {
		console.log('Previous testimonial clicked, current:', currentTestimonial);
		currentTestimonial = (currentTestimonial - 1 + testimonials.length) % testimonials.length;
		console.log('New testimonial:', currentTestimonial);
		showTestimonial(currentTestimonial);
	}

	function startAutoPlay() {
		// Alle 5 Sekunden wechseln
		autoPlayInterval = setInterval(nextTestimonial, 5000);
	}
</script>

<CookieBanner />